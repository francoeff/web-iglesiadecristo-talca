---
import '../styles/home.css';

import NavHome from '@components/home/NavHome.astro';
import { Icon } from 'astro-icon/components';
import Hero from '@components/Hero.astro';
import OurCompromise from '@components/home/sections/OurCompromise.astro';
import OurWish from '@components/home/sections/OurWish.astro';
import AmISave from '@components/home/sections/AmISave.astro';
import ContactUs from '@components/home/sections/ContactUs.astro';
import PageLayout from 'src/layouts/PageLayout.astro'
import logoImg from 'src/img/logo_iglesia.png'
---
  <PageLayout title="Inicio" currentMenu="Inicio">
    <Hero backgroundImage='/src/img/bg-hero1.jpg' height="90vh">
      <div class='content'>
        <img class='logo' src={logoImg.src} alt='' />
        <a class='btn-contacto' href='#'><Icon name='call' /> Contáctanos</a>
        <h3>UNA IGLESIA BÍBLICA</h3>
        <h1>PARA LA GLORIA DE DIOS</h1>
        <p>
          <strong
            >A Dios sea gloria en la iglesia en Cristo Jesús por todas las
            edades</strong
          >, por los siglos de los siglos. Amén. <br />
          Efesios 3:20-21
        </p>
      </div>
      <NavHome />
    </Hero>

    <OurWish />

    <OurCompromise classes='divider-top' />

    <AmISave classes='divider-top' />

    <ContactUs />

  </PageLayout>

    <script>
      const nav = document.querySelector('.menu');
      const navHome = document.querySelector('.navHome');
      const navHomePosition =
        navHome && navHome.getBoundingClientRect().top + window.scrollY;
      let showMobileMenu = window.innerWidth < 1024;

      const processMobileMenu = () => {
        if (showMobileMenu) {
          nav?.classList.remove('hidden');
        }
      };

      processMobileMenu();

      window.addEventListener('scroll', () => {
        if (!nav || !navHome || !navHomePosition || showMobileMenu) return;

        if (window.scrollY > navHomePosition) {
          nav.classList.remove('hidden');
        } else {
          nav.classList.add('hidden');
        }
      });
      window.addEventListener('resize', () => {
        showMobileMenu = window.innerWidth < 768;
        processMobileMenu();
      });
    </script>